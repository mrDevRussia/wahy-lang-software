# 🔗 دليل تكوين Discord webhook لنظام PassKey

## 📋 نظرة عامة

نظام PassKey يتطلب تكوين Discord webhook لإرسال مفاتيح الاستعادة الطارئة كل ساعة إلى قناة مخصصة.

## 🚀 خطوات التكوين

### 1️⃣ إنشاء سيرفر Discord (إذا لم يكن موجوداً)
- إنشاء سيرفر جديد أو استخدام سيرفر موجود
- إنشاء قناة مخصصة لمفاتيح PassKey (مثل: `#wahy-passkeys`)

### 2️⃣ إنشاء Discord Webhook
1. انتقل إلى إعدادات القناة المخصصة
2. اختر "Integrations" → "Webhooks"
3. انقر "Create Webhook"
4. اختر اسم للـ webhook (مثل: "Wahy Security Bot")
5. انسخ Webhook URL

### 3️⃣ تكوين النظام
```javascript
// في ملف passkey-settings.json
{
  "discordWebhookUrl": "YOUR_DISCORD_WEBHOOK_URL_HERE",
  "keyValidityHours": 1,
  "systemEnabled": true
}
```

### 4️⃣ تفعيل النظام
بمجرد تكوين الـ webhook، سيبدأ النظام تلقائياً في:
- إنتاج مفتاح جديد كل ساعة
- إرسال المفتاح إلى القناة المحددة
- حفظ سجل بآخر 24 مفتاح

## 🔑 مثال على رسالة Discord

سيصل في القناة المخصصة رسالة مثل:

```
🔑 Wahy Desktop - PassKey جديد

🔐 PassKey
WAHY2024SECUREPROGRAMMING28-A1B2

⏰ صالح حتى
2024-01-20T17:46:00.000Z

🕒 وقت الإنتاج  
2024-01-20T16:46:00.000Z
```

## 🛡️ الأمان والحماية

### ✅ المميزات الأمنية:
- **تشفير قوي** للمفاتيح المولدة
- **صالحية محدودة** (ساعة واحدة)
- **استخدام لمرة واحدة** فقط
- **تسجيل جميع المحاولات**

### ⚠️ اعتبارات أمنية:
- احرص على أمان سيرفر Discord
- لا تشارك رابط الـ webhook علناً
- راقب القناة بانتظام
- احذف المفاتيح القديمة من القناة

## 🔧 استكشاف الأخطاء

### ❌ المفاتيح لا تصل إلى Discord
1. تحقق من صحة رابط الـ webhook
2. تأكد من أن البوت له صلاحيات إرسال رسائل
3. فحص سجل الأخطاء في الكونسول

### ❌ المفاتيح لا تعمل في الاستعادة
1. تأكد من إدخال المفتاح كاملاً
2. تحقق من أن المفتاح لم تنته صلاحيته
3. تأكد من عدم استخدام المفتاح مسبقاً

## 📞 الدعم

للحصول على المساعدة:
- تحقق من ملف `security.log` للأخطاء
- راجع إعدادات `passkey-settings.json`
- تواصل مع فريق الدعم التقني

---

<div align="center">
  <p><strong>🔗 نظام Discord PassKey</strong></p>
  <p><em>حماية متقدمة • استعادة سريعة • أمان عالي</em></p>
</div>